replicaCount: 2

image:
  repository: ghcr.io/gyu-hyung/hiteen-api
  tag: latest
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8080

ingress:
  enabled: true
  className: nginx
  hosts:
    - host: api.hiteen.local
      paths:
        - path: /
          pathType: Prefix
  tls: [] # 추후 cert-manager로 교체 가능

resources:
  requests:
    cpu: 300m
    memory: 512Mi
  limits:
    cpu: 1
    memory: 1Gi

volumeMounts:
  - name: asset-storage
    mountPath: /home/spring

volumes:
  - name: asset-storage
    emptyDir: {}


env:
  PROFILE: dev

  # Database
  SPRING_R2DBC_URL: "r2dbc:postgresql://49.247.175.76:5432/hiteen"
  SPRING_R2DBC_USERNAME: "hiteen"
  SPRING_R2DBC_PASSWORD: "xxxxxxxx"

  # Liquibase
  SPRING_LIQUIBASE_URL: "jdbc:postgresql://49.247.175.76:5432/hiteen"
  SPRING_LIQUIBASE_USER: "hiteen"
  SPRING_LIQUIBASE_PASSWORD: "xxxxxxxx"

  # MongoDB
  SPRING_DATA_MONGODB_URI: "mongodb://hiteen:hiteen%402025@49.247.170.182:27017/hiteen?authSource=admin"

  # Redis Cluster
  SPRING_DATA_REDIS_CLUSTER_NODES: "10.8.1.51:6379,10.8.0.159:6379"
  SPRING_DATA_REDIS_PASSWORD: "xxxxxxxx"

  # Soketi (WebSocket)
  SOKETI_HOST: "soketi.hiteen-prod.svc.cluster.local"
  SOKETI_PORT: "6001"
  SOKETI_APP_ID: "hiteen-app"
  SOKETI_APP_KEY: "hiteen-key"
  SOKETI_APP_SECRET: "hiteen-secret"

  # TBMQ
  TBMQ_URL: "http://192.168.49.2:30001"
  TBMQ_MQTT_HOST: "192.168.49.2"
  TBMQ_MQTT_PORT: "30002"

  # JWT
  JWT_SECRET: "ac0da6c32199d5d4829ca62b05f2a353ab926e2855de718e28286ca64bc2f9df"

  # External APIs
  NEIS_API_KEY: "458d6485b25c46009758a4ab53413497"
  KAKAO_API_KEY: "6ba92dcdddc5dccc78dbbaa50eb95825"
  ALIGO_API_KEY: "0rsw46blu616mp6geidaldsy9z6o0pgi"

  # Docs
  SPRINGDOC_API_DOCS_PATH: "/api-docs"
  SWAGGER_UI_PATH: "/swagger-ui"
